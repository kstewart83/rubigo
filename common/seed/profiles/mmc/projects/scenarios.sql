-- SCENARIOS
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scn-001', 'rule-001', 'Emergency dispatch view', 'Given I am a dispatch coordinator viewing the map, when an emergency call is received, then I can see all technicians within a 20-mile radius with their current status and ETA to the customer location', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scn-002', 'rule-002', 'Automatic route recalculation', 'Given I am a technician en route to a job, when traffic conditions change significantly, then the app automatically recalculates and suggests an optimal alternative route', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scn-003', 'rule-004', 'Service status tracking', 'Given I am a customer logged into the portal, when I navigate to my active service requests, then I can see the current status, assigned technician name, and estimated arrival window', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scn-004', 'rule-005', 'After-hours service request', 'Given I am a customer accessing the portal at 10 PM, when I submit a new service request, then I receive a confirmation with a reference number and expected response timeframe', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-list', 'rule-personnel-view', 'Browse personnel directory', 'Given I am signed in as any user, when I navigate to the Personnel page, then I see a paginated table of personnel records and I can search by name, title, or email and filter by department', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-detail', 'rule-personnel-view', 'View personnel details', 'Given I am viewing the personnel directory, when I click on a personnel row, then a detail panel opens showing full information', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-create', 'rule-personnel-create', 'Add new employee', 'Given I am signed in as Global Administrator, when I click the Add Personnel button and fill in required fields (name, email, department) and click Save, then the new personnel record appears in the table', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-edit', 'rule-personnel-edit', 'Update employee information', 'Given I am signed in as Global Administrator and viewing a personnel detail panel, when I click Edit, modify fields, and Save, then the changes are reflected in the table', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-delete', 'rule-personnel-delete', 'Remove employee from directory', 'Given I am signed in as Global Administrator and viewing a personnel detail panel, when I click Delete and confirm, then the record no longer appears in the table', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-contact-view', 'rule-personnel-contact', 'View contact information', 'Given I am viewing a personnel detail panel, when the record has phone numbers, then I see the desk phone and cell phone displayed with clickable tel: links', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-contact-edit', 'rule-personnel-contact', 'Edit contact information', 'Given I am editing a personnel record as admin, when I enter desk phone and cell phone numbers, then the contact info is saved and displayed in the detail view', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-location-view', 'rule-personnel-location', 'View office location', 'Given I am viewing a personnel detail panel, when the record has location info, then I see site, building, level, and space displayed as a formatted address', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-location-edit', 'rule-personnel-location', 'Edit office location', 'Given I am editing a personnel record as admin, when I fill in site, building, level, and space fields, then the location is saved and displayed in the detail view', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-manager-view', 'rule-personnel-hierarchy', 'View manager relationship', 'Given I am viewing a personnel detail panel, when the person has a manager assigned, then I see the manager''s name as a clickable link to their profile', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-manager-select', 'rule-personnel-hierarchy', 'Assign manager', 'Given I am editing a personnel record as admin, when I use the manager dropdown and search for a name, then I can select from matching personnel and save the relationship', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-photo-display', 'rule-personnel-photo', 'Display personnel photo', 'Given I am viewing a personnel detail panel, when the person has a photo uploaded, then I see their photo at the top of the panel; otherwise I see initials', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-personnel-photo-upload', 'rule-personnel-photo', 'Upload personnel photo', 'Given I am editing a personnel record as admin, when I click the photo upload area and select an image file, then the photo is uploaded and displayed immediately', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-solution-list', 'rule-solution-list', 'Browse solutions', 'Given I am signed in as any user, when I navigate to the Services page, then I see a list of Solutions with their names, descriptions, and status', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-solution-create', 'rule-solution-crud', 'Create solution', 'Given I am signed in as Global Administrator, when I click New Solution and fill in name and description and click Save, then the solution appears in the list', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-project-list', 'rule-project-list', 'Browse projects', 'Given I am signed in as any user, when I navigate to the Projects page, then I see projects grouped or linked by their solution', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-project-create', 'rule-project-crud', 'Create project', 'Given I am signed in as Global Administrator, when I click New Project, select a solution, fill in name and description, and click Save, then the project appears in the list', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-objective-list', 'rule-objective-list', 'Browse objectives', 'Given I am signed in as any user, when I navigate to the Objectives page, then I see objectives displayed in a hierarchical tree structure', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-objective-create', 'rule-objective-crud', 'Create objective', 'Given I am signed in as Global Administrator, when I click New Objective, fill in title and description, optionally select a parent, and click Save, then the objective appears in the hierarchy', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-initiative-list', 'rule-initiative-list', 'Browse initiatives', 'Given I am signed in as any user, when I navigate to the Initiatives page, then I see a list of initiatives with their linked KPIs and status', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-initiative-create', 'rule-initiative-crud', 'Create initiative', 'Given I am signed in as Global Administrator, when I click New Initiative, fill in name, optionally link a KPI, and click Save, then the initiative appears in the list', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-activity-list', 'rule-activity-list', 'Browse activities', 'Given I am signed in as any user, when I navigate to the Activities page, then I see activities with their initiative, roles, and capacity information', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-activity-capacity', 'rule-capacity-viz', 'View capacity dashboard', 'Given I am on the Activities page, then I see a capacity dashboard showing Capacity Filled percentage and FTE Required vs FTE Allocated', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-activity-create', 'rule-activity-crud', 'Create activity', 'Given I am signed in as Global Administrator, when I click New Activity, select an initiative, fill in name, and click Save, then the activity appears in the list', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-metric-list', 'rule-metric-list', 'Browse metrics', 'Given I am signed in as any user, when I navigate to the Metrics page, then I see a list of metrics with their units and current values', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-kpi-view', 'rule-kpi-list', 'View KPI details', 'Given I am viewing the Metrics page, when a metric has linked KPIs, then I can see the KPI targets and thresholds', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-month-display', 'rule-calendar-month-view', 'Display month grid', 'Given I am signed in, when I navigate to Calendar, then I see a month grid with day cells and colored event pills', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-month-nav', 'rule-calendar-navigate', 'Navigate between months', 'Given I am viewing the calendar in month view, when I click the next arrow, then the display advances to the next month', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-week-nav', 'rule-calendar-navigate', 'Navigate between weeks', 'Given I am viewing the calendar in week view, when I click the next arrow, then the display advances by one week', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-today', 'rule-calendar-today', 'Jump to today', 'Given I am viewing a future month, when I click Today, then the calendar returns to the current month with today highlighted', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-week-display', 'rule-calendar-week-view', 'Display week view with time slots', 'Given I am viewing the calendar in week mode, then I see 7 day columns with time slots from 6AM to 10PM', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-workweek-toggle', 'rule-calendar-workweek', 'Toggle work week mode in week view', 'Given I am viewing the calendar in week view, when I enable work week mode, then only Monday through Friday columns are displayed', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-workweek-month', 'rule-calendar-workweek', 'Toggle work week mode in month view', 'Given I am viewing the calendar in month view, when I enable work week mode, then the month grid shows only Monday through Friday columns', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-day-display', 'rule-calendar-day-view', 'Display day view with time slots', 'Given I click the Day view button, then I see a single day column with hourly time slots from 6AM to 10PM', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-day-nav', 'rule-calendar-day-nav', 'Navigate between days', 'Given I am viewing the calendar in day view, when I click the next arrow, then the display advances by one day', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-day-toggle', 'rule-calendar-day-view', 'Toggle to day view from month or week', 'Given I am in month or week view, when I click the Day button, then the view changes to show only the current day with time slots', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-all-day-create', 'rule-calendar-all-day-toggle', 'Create all-day event', 'Given I am creating an event, when I toggle ''All Day'' on, then the time fields are hidden and the event is saved as an all-day event', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-all-day-no-time', 'rule-calendar-all-day-display', 'All-day events display without time', 'Given an all-day event exists, when I view it in the calendar or details panel, then no start/end time is displayed', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-all-day-form-toggle', 'rule-calendar-all-day-form', 'All-day toggle hides time fields', 'Given I am creating or editing an event, when I enable the All Day toggle, then the start time and end time fields are hidden', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-instance-no-recurrence', 'rule-calendar-instance-no-recurrence', 'Hide recurrence fields when editing single instance', 'Given I am editing a single instance of a recurring event (This Occurrence Only), then the recurrence options are not visible in the edit form', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-series-shows-recurrence', 'rule-calendar-series-edit', 'Show recurrence fields when editing all occurrences', 'Given I am editing all occurrences of a recurring event, then the recurrence options are visible and can be modified', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-overlap-side-by-side', 'rule-calendar-overlap-side-by-side', 'Display two overlapping events side-by-side', 'Given two events overlap in time (e.g., Interview 14:00-16:00 and Sprint Review 15:00-16:30 on Dec 19), when I view the day in day or week view, then both events display side-by-side in separate columns', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-overlap-three-events', 'rule-calendar-overlap-lanes', 'Display three overlapping events in three columns', 'Given three events all overlap in time, when I view the day, then the events display in three equal-width columns', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-overlap-duration-visible', 'rule-calendar-overlap-duration-height', 'Longer events appear taller than shorter events', 'Given a 2-hour event and a 30-minute event, when I view them in day or week view, then the 2-hour event has approximately 4x the height of the 30-minute event', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-overlap-recurring', 'rule-calendar-overlap-side-by-side', 'Recurring events on same day display side-by-side', 'Given two bi-weekly recurring events that fall on the same day (e.g., Interview Block and Sprint Review both on Dec 19), when I view that day, then both instances display side-by-side', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-time-indicator-display', 'rule-calendar-time-indicator-visible', 'Time indicator visible on today''s Day view', 'Given I am viewing today''s date in Day view, then I see a colored horizontal bar indicating the current time positioned at the correct hour/minute', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-time-indicator-updates', 'rule-calendar-time-indicator-realtime', 'Time indicator updates in real-time', 'Given I am viewing today''s Day view, when time passes, then the indicator moves down automatically without page refresh', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-time-indicator-hidden-other-days', 'rule-calendar-time-indicator-today-only', 'Time indicator hidden on other days', 'Given I am viewing a date other than today in Day view, then no time indicator is displayed', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-timezone-select', 'rule-calendar-timezone-select', 'Select event timezone', 'Given I am creating or editing an event, when I select a timezone from the timezone dropdown, then the event is saved with that timezone', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-timezone-local-preview', 'rule-calendar-timezone-local-preview', 'Display local time preview in edit mode', 'Given I am editing an event with a timezone different from my local timezone, when I view the event form, then I see a local time preview showing the event time converted to my local timezone', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-timezone-same-tz-no-preview', 'rule-calendar-timezone-local-preview', 'Hide local time preview when timezones match', 'Given I am editing an event with a timezone matching my local timezone, when I view the event form, then no local time preview is shown', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-timezone-details-display', 'rule-calendar-timezone-details', 'Display local time in details panel', 'Given I am viewing details of an event with a timezone different from my local timezone, when the details panel opens, then I see both the event time in its original timezone and my local time', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-timezone-details-same-tz', 'rule-calendar-timezone-details', 'Hide local time in details when timezones match', 'Given I am viewing details of an event with a timezone matching my local timezone, when the details panel opens, then only the event time is shown without a separate local time row', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-create-simple', 'rule-calendar-create', 'Create simple event', 'Given I click New Event, when I fill in title, date, and time and click Save, then the event appears on the calendar', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-create-recurring', 'rule-calendar-recurrence-create', 'Create recurring weekly event', 'Given I am creating an event, when I enable recurrence with Weekly frequency and select Mon/Wed/Fri, then events appear on those days', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-recurrence-until', 'rule-calendar-recurrence-until', 'Set recurrence end date', 'Given I am creating a recurring event, when I set an end date using the Until date picker, then events only appear up to that date', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-view-detail', 'rule-calendar-view-detail', 'View event details panel', 'Given I am viewing the calendar, when I click on an event pill, then a details panel opens showing title, time, location, and participants', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-event', 'rule-calendar-edit', 'Edit existing event', 'Given I have an event details panel open, when I click Edit, modify fields, and Save, then the changes are reflected in the calendar', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-delete-event', 'rule-calendar-delete', 'Delete single event', 'Given I have an event details panel open, when I click Delete and confirm, then the event is removed from the calendar', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-cancel-instance', 'rule-calendar-instance-cancel', 'Cancel single recurrence instance', 'Given I click on one instance of a recurring event, when I select Cancel This Instance, then only that date is removed while other occurrences remain', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-modify-instance', 'rule-calendar-instance-modify', 'Modify single recurrence instance', 'Given I am editing one instance of a recurring event, when I change the time and save for This Instance Only, then only that occurrence is updated', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-delete-instance', 'rule-calendar-recurring-delete-choice', 'Delete only this occurrence', 'Given I click delete on a recurring event, when the dialog appears and I select ''Just This Occurrence'', then only that date is removed while other instances remain', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-delete-series', 'rule-calendar-recurring-delete-choice', 'Delete all occurrences', 'Given I click delete on a recurring event, when the dialog appears and I select ''All Occurrences'', then the entire series is removed from the calendar', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-instance-only', 'rule-calendar-recurring-edit-choice', 'Edit only this occurrence', 'Given I click edit on a recurring event, when the dialog appears and I select ''This Occurrence Only'', then I can modify just that instance while others remain unchanged', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-series', 'rule-calendar-recurring-edit-choice', 'Edit entire series', 'Given I click edit on a recurring event, when the dialog appears and I select ''All Occurrences'', then my changes apply to all instances of the series', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-edit-series-recurrence-loaded', 'rule-calendar-series-edit', 'Recurrence info loads when editing series', 'Given a weekly event recurring on Mon/Wed/Fri, when editing all occurrences, then the edit modal shows Mon/Wed/Fri selected', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-move-instance', 'rule-calendar-instance-move', 'Move recurring instance to different date', 'Given a Mon/Wed recurring event starting Jan 6, when I edit Wed Jan 15 and change the date to Thu Jan 16, then Wed Jan 15 shows no event and Thu Jan 16 shows the event', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-moved-instance-survives-pattern-change', 'rule-calendar-series-edit', 'Moved instance persists through recurrence pattern change', 'Given a Mon/Wed recurring event where I moved Wed Jan 15 to Thu Jan 16, when I change the series recurrence to Tue/Thu, then Thu Jan 16 still shows only one event (not duplicated)', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-cancelled-instance-reactivates', 'rule-calendar-instance-cancel', 'Cancelled instance remains cancelled after pattern change and restore', 'Given a Mon/Wed recurring event where I cancelled Wed Jan 15, when I change the series to Tue/Thu and then back to Mon/Wed, then Wed Jan 15 is still cancelled', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-inbox-empty', 'rule-email-inbox-view', 'View empty inbox', 'Given I am a new user with no messages, when I navigate to Email, then I see an empty inbox with a prompt to compose my first message', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-inbox-list', 'rule-email-inbox-view', 'View inbox messages', 'Given I have received messages, when I navigate to Email, then I see my inbox with messages showing sender name, subject, preview, and timestamp with unread messages visually highlighted', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-inbox-unread', 'rule-email-unread-count', 'Unread count displayed', 'Given I have 3 unread messages, when I view the Email sidebar, then I see ''3'' displayed next to the Inbox folder', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-compose-open', 'rule-email-compose', 'Open compose modal', 'Given I am viewing Email, when I click Compose, then a compose modal appears with To, Subject, and Body fields', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-compose-personnel', 'rule-email-recipient-personnel', 'Select recipient from directory', 'Given I am composing an email, when I type a colleague''s name in the To field, then I see matching personnel from the directory and can select one as a recipient', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-compose-custom', 'rule-email-recipient-custom', 'Enter custom email address', 'Given I am composing an email, when I type ''client@external.com'' and press Enter, then the custom address is added as a recipient chip', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-compose-multiple', 'rule-email-recipient-multiple', 'Add multiple recipients', 'Given I am composing an email, when I add Alex Chen to To and Sarah Johnson to CC, then both appear as recipient chips in their respective fields', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-compose-send', 'rule-email-send', 'Send email', 'Given I have composed an email with recipient, subject, and body, when I click Send, then the compose modal closes, the message appears in my Sent folder, and the recipient sees it in their Inbox', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-draft-save', 'rule-email-drafts-save', 'Save draft', 'Given I am composing an email, when I click Save Draft or close the compose modal without sending, then the email is saved to my Drafts folder', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-draft-edit', 'rule-email-drafts-edit', 'Edit and send draft', 'Given I have a saved draft, when I open it from Drafts, complete the message, and click Send, then the draft is removed from Drafts and the email is sent', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-read-open', 'rule-email-read', 'Read email content', 'Given I have unread messages in my inbox, when I click on a message, then the reading pane displays the sender, date, recipients, subject, and full body', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-read-marks-read', 'rule-email-mark-read', 'Opening email marks as read', 'Given I have an unread message, when I click to open it, then it is marked as read and no longer appears highlighted as new', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-reply', 'rule-email-reply', 'Reply to email', 'Given I am reading an email from Alex Chen, when I click Reply and send my response, then Alex receives my reply and both messages appear in the same thread', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-reply-all', 'rule-email-reply-all', 'Reply all', 'Given I received an email sent to me and CC''d to Sarah, when I click Reply All and respond, then both the original sender and Sarah receive my reply', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-forward', 'rule-email-forward', 'Forward email', 'Given I am reading an email, when I click Forward, add Mike Smith as recipient, and send, then Mike receives the forwarded message with the original content quoted', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-thread-view', 'rule-email-thread-view', 'View conversation thread', 'Given an email thread with 3 messages, when I open any message in the thread, then I see all 3 messages displayed in chronological order', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-folder-nav', 'rule-email-folder-nav', 'Navigate folders', 'Given I am viewing my Inbox, when I click on Sent, then the email list updates to show only messages I have sent', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-sent-view', 'rule-email-sent-view', 'View sent emails', 'Given I have sent emails, when I navigate to the Sent folder, then I see my sent messages with recipient, subject, and sent timestamp', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-delete', 'rule-email-delete', 'Delete email', 'Given I am viewing an email, when I click Delete, then the email is moved to Trash and removed from Inbox', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-trash-recover', 'rule-email-trash-view', 'Recover from trash', 'Given I have deleted an email, when I go to Trash and click Restore on the message, then it returns to my Inbox', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-search-basic', 'rule-email-search', 'Search emails', 'Given I have multiple emails, when I enter ''quarterly report'' in the search box, then I see only emails with matching subject or body content', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-email-search-sender', 'rule-email-search', 'Search by sender', 'Given I have emails from various senders, when I search for ''Alex Chen'', then I see only emails from or mentioning Alex Chen', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-dm-conversation', 'rule-chat-dm-start', 'Start direct message', 'Given I click New Message, when I select a colleague and send a message, then a DM conversation is created and the message appears', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-channel-create', 'rule-chat-channel-create', 'Create new channel', 'Given I click Create Channel, when I enter a name and description, then the channel appears in my channel list', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-react', 'rule-chat-react', 'React to message', 'Given I hover over a message, when I click Add Reaction and select an emoji, then the reaction appears under the message', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-thread', 'rule-chat-thread-reply', 'Reply in thread', 'Given I click Reply on a message, when I type and send my response, then it appears in a threaded view under the original message', 'draft');

-- Chat UX Enhancement Scenarios
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-mention-autocomplete', 'rule-chat-mention-autocomplete', '@mention autocomplete appears', 'Given I am typing a message, when I type the @ symbol, then an autocomplete dropdown appears showing personnel names I can select', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-mention-select', 'rule-chat-mention-autocomplete', 'Select user from autocomplete', 'Given the @mention autocomplete is open, when I click on a colleague''s name, then @TheirName is inserted into my message', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-mention-highlighted', 'rule-chat-mention-highlight', '@mention rendered distinctly', 'Given I send a message with @Alex, when the message appears in the chat, then @Alex is visually styled differently from regular text', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-mention-clickable', 'rule-chat-mention-link', '@mention links to profile', 'Given I see a message with @Alex, when I click on @Alex, then I see Alex''s profile information', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-own-right', 'rule-chat-own-message-right', 'Own messages right-aligned', 'Given I send a message to a channel, when the message appears, then it is right-aligned with my avatar on the right', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-other-left', 'rule-chat-other-message-left', 'Other messages left-aligned', 'Given another user sends a message, when it appears in my view, then it is left-aligned with their avatar on the left', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-user-color-applied', 'rule-chat-user-color', 'User color applied to messages', 'Given messages from multiple users in a channel, when I view the conversation, then each user''s messages have a subtle unique background color', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-color-consistent', 'rule-chat-color-consistent', 'Same user same color everywhere', 'Given Alex sends messages in #general and #engineering channels, when I view both channels, then Alex''s messages have the same background color in both', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-avatar-popup-show', 'rule-chat-avatar-popup', 'Avatar click shows mini-card', 'Given I see a message from Alex, when I click on Alex''s avatar or name, then a mini-card popup appears showing Alex''s photo, name, title, and department', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-chat-popup-dm-action', 'rule-chat-popup-dm', 'DM from mini-card', 'Given the mini-card popup is showing for Alex, when I click the DM button, then a direct message conversation with Alex opens', 'draft');

INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-screenshare-start', 'rule-screenshare-start', 'Start screen share', 'Given I click Share Screen, when I select a screen or window and click Start, then participants see my shared screen', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-screenshare-from-dm', 'rule-screenshare-from-chat', 'Share screen from DM', 'Given I am in a DM conversation, when I click the Share Screen button, then my screen becomes visible to the other person', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-screenshare-stop', 'rule-screenshare-stop', 'Stop screen share', 'Given I am sharing my screen, when I click Stop Sharing, then participants no longer see my screen', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-aco-default-create', 'rule-aco-default', 'New record gets default ACO', 'Given I create a new personnel record, when I do not specify an ACO, then the record is saved with ACO {"sensitivity": "low"}', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-aco-explicit-no-inherit', 'rule-aco-explicit', 'Child records do not inherit parent ACO', 'Given a chat channel has ACO {"sensitivity": "moderate"}, when I send a message to that channel without specifying ACO, then the message gets the default ACO {"sensitivity": "low"}, not the channel''s ACO', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sensitivity-filter-list', 'rule-sensitivity-view', 'List filtered by sensitivity', 'Given I have clearance ''moderate'' and there are personnel records at public, low, moderate, and high sensitivity, when I list personnel, then I only see records with sensitivity public, low, or moderate', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sensitivity-block-detail', 'rule-sensitivity-view', 'Cannot view high sensitivity record', 'Given I have clearance ''moderate'' and a personnel record has sensitivity ''high'', when I try to view that record by ID, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sensitivity-create-blocked', 'rule-sensitivity-create', 'Cannot create above clearance', 'Given I have clearance ''moderate'', when I try to create a record with sensitivity ''high'', then the creation fails with an access denied error', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sensitivity-badge', 'rule-sensitivity-indicator', 'Sensitivity badge displayed', 'Given I am viewing a personnel detail panel, when the record has sensitivity ''moderate'', then I see a visual badge indicating ''MODERATE'' classification', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-tenant-single-access', 'rule-tenant-access', 'Can access single tenant record', 'Given I have tenant access ''moderate:üçé'' and a record has tenants [''üçé''] with sensitivity ''low'', when I view the record, then I can see it', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-tenant-single-blocked', 'rule-tenant-access', 'Blocked without tenant access', 'Given I have no tenant access for üçé and a record has tenants [''üçé''], when I try to view the record, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-tenant-insufficient-level', 'rule-tenant-access', 'Blocked with insufficient tenant level', 'Given I have tenant access ''low:üçé'' and a record has tenants [''üçé''] with sensitivity ''moderate'', when I try to view the record, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-tenant-multi-all', 'rule-tenant-multi', 'Access requires all tenants', 'Given I have tenant access ''moderate:üçé'' but not üçå and a record has tenants [''üçé'', ''üçå''], when I try to view the record, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-tenant-emoji-display', 'rule-tenant-indicator', 'Tenant emojis displayed', 'Given I am viewing a record with tenants [''üçé'', ''üçå''], when I look at the record header, then I see the emojis üçéüçå displayed as tenant indicators', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-role-single-access', 'rule-role-access', 'Can access with required role', 'Given I have role ''hr_viewer'' and a record requires roles [''hr_viewer''], when I view the record, then I can see it', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-role-single-blocked', 'rule-role-access', 'Blocked without required role', 'Given I do not have role ''hr_viewer'' and a record requires roles [''hr_viewer''], when I try to view the record, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-role-multi-partial', 'rule-role-multi', 'Partial roles insufficient', 'Given I have role ''manager'' but not ''hr_viewer'' and a record requires roles [''manager'', ''hr_viewer''], when I try to view the record, then I receive an access denied response', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-role-global-admin-bypass', 'rule-global-admin', 'Global admin bypasses all checks', 'Given I have role ''global_admin'' and a record has sensitivity ''high'', tenants [''üçé''], and roles [''secret_committee''], when I view the record, then I can see it regardless of my other attributes', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-log-read-recorded', 'rule-log-all-reads', 'Read operation logged', 'Given I view a personnel record, when the request completes, then an entry exists in the access log with my subject ID, the record ID, action ''read'', and timestamp', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-log-write-recorded', 'rule-log-writes', 'Write operation logged with changes', 'Given I update a personnel record''s title, when the request completes, then an entry exists in the access log with action ''update'', old value, new value, and timestamp', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-log-denial-recorded', 'rule-log-denials', 'Access denial logged', 'Given I try to view a record I cannot access, when the request is denied, then an entry exists in the access log with action ''read'', outcome ''denied'', and the reason for denial', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-guide-create', 'rule-guide-create', 'Create classification guide', 'Given I am a Global Administrator, when I create a classification guide with descriptions for each sensitivity level, then the guide is saved and available for reference', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-guide-referenced', 'rule-guide-reference', 'View classification guide reference', 'Given a record''s SCO references classification guide ''CG-HR-001'', when I view the record''s security context, then I can see the guide ID and click to view its full content', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-aco-modify-within-clearance', 'rule-aco-modify-allowed', 'Can modify ACO within clearance', 'Given I have clearance ''moderate'' and a record has sensitivity ''low'', when I change the sensitivity to ''moderate'', then the change is saved successfully', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-aco-modify-blocked', 'rule-aco-modify-allowed', 'Cannot modify ACO beyond clearance', 'Given I have clearance ''moderate'' and a record has sensitivity ''low'', when I try to change the sensitivity to ''high'', then the change is rejected with an access denied error', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-aco-modify-logged', 'rule-aco-modify-log', 'ACO modification logged', 'Given I modify a record''s sensitivity from ''low'' to ''moderate'', when the change is saved, then an entry exists in the access log with action ''aco_modify'', old ACO, new ACO, and my subject ID', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-list-personnel', 'rule-mcp-resources-read', 'List personnel via MCP', 'Given I have a valid MCP connection, when I request the personnel resource, then I receive a list of all personnel records with their attributes', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-list-projects', 'rule-mcp-resources-read', 'List projects via MCP', 'Given I have a valid MCP connection, when I request the projects resource, then I receive a list of all projects with their status and linked solutions', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-list-objectives', 'rule-mcp-resources-read', 'List objectives via MCP', 'Given I have a valid MCP connection, when I request the objectives resource, then I receive the objective hierarchy with parent-child relationships', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-create-personnel', 'rule-mcp-tools-crud', 'Create personnel via MCP tool', 'Given I have authenticated MCP connection with admin privileges, when I invoke the create_personnel tool with name and email, then a new personnel record is created and returned', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-update-objective', 'rule-mcp-tools-crud', 'Update objective via MCP tool', 'Given I have authenticated MCP connection with admin privileges, when I invoke the update_objective tool with an ID and new title, then the objective is updated and the change is logged', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-delete-activity', 'rule-mcp-tools-crud', 'Delete activity via MCP tool', 'Given I have authenticated MCP connection with admin privileges, when I invoke the delete_activity tool with a valid ID, then the activity is removed from the system', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-sse-connect', 'rule-mcp-transport-sse', 'Connect via HTTP/SSE', 'Given the Rubigo MCP server is running, when I establish an SSE connection to the MCP endpoint, then I receive the protocol handshake and can begin exchanging messages', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-sse-reconnect', 'rule-mcp-transport-sse', 'Reconnect after disconnect', 'Given an active SSE connection is interrupted, when the client reconnects, then the connection is re-established and operations can continue', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-auth-valid-token', 'rule-mcp-auth', 'Authenticate with valid token', 'Given I have a valid API token, when I connect to the MCP server with the token in the Authorization header, then the connection is established successfully', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-auth-invalid-token', 'rule-mcp-auth', 'Reject invalid token', 'Given I have an invalid or expired API token, when I attempt to connect to the MCP server, then the connection is rejected with an authentication error', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-auth-readonly', 'rule-mcp-auth', 'Enforce role-based access', 'Given I have an authenticated connection without admin privileges, when I invoke a write tool like create_personnel, then the operation is rejected with a permissions error', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-discover-resources', 'rule-mcp-schema', 'Discover available resources', 'Given I have a valid MCP connection, when I send a resources/list request, then I receive a list of all available resources with their URIs and descriptions', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-discover-tools', 'rule-mcp-schema', 'Discover available tools', 'Given I have a valid MCP connection, when I send a tools/list request, then I receive a list of all available tools with their input schemas and descriptions', 'draft');

INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-orphan-indicator-shown', 'rule-calendar-orphan-indicator', 'Orphan indicator displayed after pattern change', 'Given a Mon/Wed recurring event where I cancelled Wed Jan 15, when I change the series to Tue/Thu and view the event details, then I see an orphaned deviations indicator showing 1 orphan', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-orphan-view-dialog', 'rule-calendar-orphan-view', 'View orphaned deviations in dialog', 'Given I see an orphaned deviations indicator, when I click on it, then a dialog opens showing the list of orphans with their original dates and whether they were cancelled or modified', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-orphan-delete-one', 'rule-calendar-orphan-delete', 'Delete single orphaned deviation', 'Given I am viewing the orphaned deviations dialog with 2 orphans, when I click the delete button next to one orphan, then that orphan is removed and the count updates to 1', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-orphan-delete-all', 'rule-calendar-orphan-delete', 'Delete all orphaned deviations', 'Given I am viewing the orphaned deviations dialog with multiple orphans, when I click Delete All, then all orphans are removed and the indicator disappears', 'active');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-calendar-orphan-none-no-indicator', 'rule-calendar-orphan-indicator', 'No indicator when no orphans exist', 'Given a recurring event with no orphaned deviations, when I view the event details, then no orphaned deviations indicator is shown', 'active');

INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-action-logged', 'rule-mcp-action-logged', 'MCP operations logged with mcp source', 'Given I invoke an MCP tool to create a personnel record, when the operation completes, then an entry exists in the action_logs table with source=mcp', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-mcp-action-distinct-from-api', 'rule-mcp-action-identified', 'MCP source distinguishable from API', 'Given operations from both MCP and API have created personnel records, when I query the action_logs table, then MCP operations have source=mcp and API operations have source=api', 'draft');

-- Agent Simulation Scenarios
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-state-dormant-default', 'rule-agent-state-lifecycle', 'Agent starts dormant when Ollama unavailable', 'Given Ollama is not running, when the simulation starts, then all agents remain in dormant state with no activity', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-state-working', 'rule-agent-state-lifecycle', 'Agent transitions to working when processing', 'Given an agent is idle and a new chat message arrives, when the agent starts generating a response, then the agent state transitions to working', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-priority-meeting', 'rule-agent-priority-queue', 'Meeting events processed before email', 'Given an agent has both a pending meeting join event and an email read event queued, when the scheduler processes events, then the meeting event is processed first', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-worker-background', 'rule-agent-bun-worker', 'Event loop runs in background without blocking UI', 'Given the simulation is running with multiple agents, when a user navigates the UI, then the UI remains responsive with no visible lag', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-ollama-generate', 'rule-agent-ollama-connect', 'Agent generates thoughts via Ollama', 'Given Ollama is running with gemma3:4b model, when an agent receives an observation, then the agent generates a thought using the local LLM', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-ollama-offline', 'rule-agent-ollama-fallback', 'Agent becomes dormant when Ollama stops', 'Given an agent is working and Ollama becomes unavailable, when the next LLM call fails, then the agent transitions to dormant state', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-persona-style', 'rule-agent-persona-prompt', 'Agent responses reflect persona bio', 'Given Alex Chen has bio mentioning fintech background, when Alex responds in chat, then the response style reflects their technical QA background', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-badge-visible', 'rule-agent-badge', 'AI Agent badge on personnel card', 'Given Alex Chen is configured as an AI agent, when I view the Personnel directory, then Alex''s card shows an "AI Agent" badge', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-status-working', 'rule-agent-status-indicator', 'Status indicator shows working state', 'Given an agent is actively generating a response, when I view their personnel card, then I see a "Working" status indicator', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-chat-reply', 'rule-agent-chat-respond', 'Agent replies in chat channel', 'Given an agent is a member of the Engineering channel, when a user posts a message mentioning the agent, then the agent generates and sends a contextual reply', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-chat-start', 'rule-agent-chat-initiate', 'Agent initiates chat conversation', 'Given an agent has a pending task that requires collaboration, when the scheduler triggers, then the agent may start a new chat message', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-email-check', 'rule-agent-email-read', 'Agent checks inbox during idle', 'Given an agent is idle with no high-priority events, when the scheduler ticks, then the agent may check their inbox for new messages', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-email-respond', 'rule-agent-email-reply', 'Agent replies to email', 'Given an agent has read an email requiring response, when the agent decides to reply, then a contextual email response is composed and sent', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-calendar-prep', 'rule-agent-calendar-check', 'Agent prepares for upcoming meeting', 'Given an agent has a meeting in 15 minutes, when the scheduler checks calendar, then the agent may generate thoughts about meeting preparation', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-thought-realtime', 'rule-agent-thought-stream', 'Real-time thought stream visible', 'Given I open the agent viewer for Alex Chen, when Alex is processing, then I see thoughts appearing in real-time', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-history-timeline', 'rule-agent-action-history', 'View action history timeline', 'Given I open the agent viewer for Alex Chen, when I scroll through history, then I see a chronological list of past thoughts and actions', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-agent-control-start', 'rule-agent-control-panel', 'Start simulation from control panel', 'Given I open the agent control panel, when I click Start Simulation, then agents begin transitioning from dormant to idle/working states', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sync-context-meeting-auto', 'rule-sync-context-create', 'Sync context created for calendar meeting', 'Given a calendar event starts, when participating agents are marked as in the event, then a sync context is created with reaction tier sync', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sync-context-chat-active', 'rule-sync-context-create', 'Sync context created for active chat', 'Given rapid messages are exchanged in a channel, when the activity threshold is exceeded, then a near_sync context is created', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sync-context-participants', 'rule-sync-context-join', 'Track context participants', 'Given a meeting sync context exists, when I query the context, then I see the list of personnel currently participating with join times', 'draft');
INSERT INTO scenarios (profile_id, id, rule_id, name, narrative, status) VALUES ('mmc', 'scen-sync-context-tier-priority', 'rule-sync-context-tier', 'Sync tier affects response priority', 'Given an agent is in both a sync meeting and an async email context, when events arrive for both, then meeting events are processed with higher priority', 'draft');
